import c from"https://esm.sh/aladin-lite@3.3.2-beta";var h=0;function b(e){let i=e.split("_");for(let r=1;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].slice(1);return i.join("")}async function k({model:e}){await c.init}function C({model:e,el:i}){let r={};e.get("init_options").forEach(t=>{r[b(t)]=e.get(t)});let s=document.createElement("div");s.classList.add("aladin-widget"),s.style.height=`${r.height}px`,s.id=`aladin-lite-div-${h}`;let a=new c.aladin(s,r);h+=1,i.appendChild(s);let f=!1,g=!1;a.on("positionChanged",t=>{g?g=!1:(f=!0,e.set("target",`${t.ra} ${t.dec}`),e.save_changes())}),e.on("change:target",()=>{if(f)f=!1;else{g=!0;let t=e.get("target");a.gotoObject(t)}});let l=!1,d=!1;return a.on("zoomChanged",t=>{l?l=!1:(d=!0,e.set("fov",parseFloat(t.toFixed(5))),e.save_changes())}),e.on("change:fov",()=>{if(d)d=!1;else{l=!0;let t=e.get("fov");a.setFoV(t)}}),e.on("change:height",()=>{let t=e.get("height");s.style.height=`${t}px`}),a.on("objectHovered",t=>{t.data!=null&&e.send({event_type:"object_hovered",content:{ra:t.ra,dec:t.dec}})}),a.on("objectClicked",t=>{let n={ra:t.ra,dec:t.dec};t.data!==void 0&&(n.data=t.data),e.set("clicked",n),e.send({event_type:"object_clicked",content:n}),e.save_changes()}),a.on("click",t=>{e.send({event_type:"click",content:t}),e.set("clicked",t),e.save_changes()}),a.on("selectionchange",t=>{console.log(t),a.view.catalogs.forEach(o=>{o.deselectAll()});let n={};t.forEach(o=>{n.push({ra:o.ra,dec:o.dec,data:o.data,x:o.x,y:o.y})}),console.log(n),e.send({event_type:"select",content:n})}),e.on("change:coo_frame",()=>{a.setFrame(e.get("coo_frame"))}),e.on("change:survey",()=>{a.setImageSurvey(e.get("survey"))}),e.on("change:overlay_survey",()=>{a.setOverlayImageLayer(e.get("overlay_survey"))}),e.on("change:overlay_survey_opacity",()=>{a.getOverlayImageLayer().setAlpha(e.get("overlay_survey_opacity"))}),e.on("msg:custom",t=>{let n={};switch(t.event_name){case"add_catalog_from_URL":a.addCatalog(c.catalogFromURL(t.votable_URL,t.options));break;case"add_MOC_from_URL":n=t.options,n.lineWidth===void 0&&(n.lineWidth=3),a.addMOC(c.MOCFromURL(t.moc_URL,n));break;case"add_MOC_from_dict":n=t.options,n.lineWidth===void 0&&(n.lineWidth=3),a.addMOC(c.MOCFromJSON(t.moc_dict,n));break;case"add_overlay_from_stcs":let o=c.graphicOverlay(t.overlay_options);a.addOverlay(o),o.addFootprints(c.footprintsFromSTCS(t.stc_string));break;case"change_colormap":a.getBaseImageLayer().setColormap(t.colormap);break;case"get_JPG_thumbnail":a.exportAsPNG();break;case"trigger_rectangular_selection":a.select();break;case"add_table":let v=e.get("_table"),p=new TextDecoder("utf-8"),u=new Blob([p.decode(v)]),_=URL.createObjectURL(u);c.catalogFromURL(_,Object.assign(t.options,{onClick:"showTable"}),y=>{a.addCatalog(y)},!1),URL.revokeObjectURL(_);break}}),()=>{e.off("change:target"),e.off("change:fov"),e.off("change:height"),e.off("change:coo_frame"),e.off("change:survey"),e.off("change:overlay_survey"),e.off("change:overlay_survey_opacity"),e.off("change:trigger_event"),e.off("change:_table"),e.off("msg:custom"),a.off("positionChanged"),a.off("zoomChanged"),a.off("objectHovered"),a.off("objectClicked"),a.off("click"),a.off("select")}}var x={initialize:k,render:C};export{x as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vanMvd2lkZ2V0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgQSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvYWxhZGluLWxpdGVAMy4zLjItYmV0YVwiO1xuaW1wb3J0IFwiLi93aWRnZXQuY3NzXCI7XG5cbmxldCBpZHhWaWV3ID0gMFxuXG5mdW5jdGlvbiBjb252ZXJ0X3B5bmFtZV90b19qc25hbWUocHluYW1lKSB7XG4gIGxldCB0ZW1wPSBweW5hbWUuc3BsaXQoJ18nKTtcbiAgZm9yKGxldCBpPTE7IGk8dGVtcC5sZW5ndGg7IGkrKyl7XG4gICAgICB0ZW1wW2ldPSB0ZW1wW2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGVtcFtpXS5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gdGVtcC5qb2luKCcnKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZSh7IG1vZGVsIH0pIHtcbiAgYXdhaXQgQS5pbml0O1xufVxuXG5mdW5jdGlvbiByZW5kZXIoe21vZGVsLCBlbH0pIHtcblxuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIC8qIFZpZXcgLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gIGxldCBpbml0X29wdGlvbnMgPSB7fTtcbiAgbW9kZWwuZ2V0KCdpbml0X29wdGlvbnMnKS5mb3JFYWNoKG9wdGlvbl9uYW1lID0+IHtcbiAgICBpbml0X29wdGlvbnNbY29udmVydF9weW5hbWVfdG9fanNuYW1lKG9wdGlvbl9uYW1lKV0gPSBtb2RlbC5nZXQob3B0aW9uX25hbWUpO1xuICB9KTtcblxuXG4gIGxldCBhbGFkaW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYWxhZGluRGl2LmNsYXNzTGlzdC5hZGQoXCJhbGFkaW4td2lkZ2V0XCIpO1xuICBhbGFkaW5EaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aW5pdF9vcHRpb25zW1wiaGVpZ2h0XCJdfXB4YDtcblxuICBhbGFkaW5EaXYuaWQgPSBgYWxhZGluLWxpdGUtZGl2LSR7aWR4Vmlld31gO1xuICAvLyBlbCBpcyBub3QgaW5zZXJ0ZWQgaW50byB0aGUgRE9NLiBUaHVzIHdlIGZpcnN0IGRpcmVjdGx5IGluc2VydCBpdCBpbnRvIHRoZSBkb2N1bWVudFxuICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFsYWRpbkRpdik7XG4gIC8vIHRoZW4gd2UgY3JlYXRlIHRoZSBhbGFkaW4gbGl0ZSBpbnN0YW5jZS4gSXQgd2lsbCBmaW5kIHRoZSBkaXYgYmVjYXVzZSBpdCBpcyBpbnNlcnRlZCBpbiB0aGUgRE9NXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBiYWQgd29ya2Fyb3VuZCwgSSBuZWVkIHRvIHJlbW92ZSB0aGUgZG9jdW1lbnQucXVlcnlTZWxlY3RvciBpbiBhbGFkaW4tbGl0ZVxuICAvLyBhbmQgb25seSByZWZlciB0byB0aGUgZGl2IGdpdmVuIGluc3RlYWQuXG4gIGxldCBhbGFkaW4gPSBuZXcgQS5hbGFkaW4oYWxhZGluRGl2LCBpbml0X29wdGlvbnMpO1xuICBpZHhWaWV3ICs9IDE7XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgRE9NXG4gIC8vIGFsYWRpbkRpdi5yZW1vdmUoKTtcbiAgLy8gQW5kIGFwcGVuZCBpdCB0byBlbFxuICBlbC5hcHBlbmRDaGlsZChhbGFkaW5EaXYpXG5cbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAvKiBMaXN0ZW5lcnMgLS0tLS0tLS0tICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgXG4gIC8qIFBvc2l0aW9uIENvbnRyb2wgKi9cbiAgLy8gdGhlcmUgYXJlIHR3byB3YXlzIG9mIGNoYW5naW5nIHRoZSB0YXJnZXQsIG9uZSBmcm9tIHRoZSBqYXZhc2NyaXB0IHNpZGUsIGFuZCBcbiAgLy8gb25lIGZyb20gdGhlIHB5dGhvbiBzaWRlLiBXZSBoYXZlIHRvIGluc3RhbnRpYXRlIHR3byBsaXN0ZW5lcnMgZm9yIHRoZXNlLCBidXRcbiAgLy8gdGhlIGdvdG9PYmplY3QgY2FsbCBzaG91bGQgb25seSBoYXBwZW4gb25jZS4gVGhlIHR3byBib29sZWFucyBwcmV2ZW50IHRoZSB0d29cbiAgLy8gbGlzdGVuZXJzIGZyb20gdHJpZ2dlcmluZyBlYWNoIG90aGVyIGFuZCBjcmVhdGluZyBhIGJ1Z2d5IGxvb3AuIFRoZSBzYW1lIHRyaWNrXG4gIC8vIGlzIGFsc28gbmVjZXNzYXJ5IGZvciB0aGUgZmllbGQgb2Ygdmlldy5cbiAgbGV0IHRhcmdldF9qcyA9IGZhbHNlO1xuICBsZXQgdGFyZ2V0X3B5ID0gZmFsc2U7XG5cbiAgYWxhZGluLm9uKFwicG9zaXRpb25DaGFuZ2VkXCIsIChwb3NpdGlvbikgPT4ge1xuICAgIGlmICghdGFyZ2V0X3B5KSB7XG4gICAgICB0YXJnZXRfanMgPSB0cnVlO1xuICAgICAgbW9kZWwuc2V0KCd0YXJnZXQnLCBgJHtwb3NpdGlvbi5yYX0gJHtwb3NpdGlvbi5kZWN9YCk7XG4gICAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0X3B5ID0gZmFsc2U7XG4gICAgfVxuICB9KVxuXG4gIG1vZGVsLm9uKFwiY2hhbmdlOnRhcmdldFwiLCAoKSA9PiB7XG4gICAgaWYgKCF0YXJnZXRfanMpIHtcbiAgICAgIHRhcmdldF9weSA9IHRydWU7XG4gICAgICBsZXQgdGFyZ2V0ID0gbW9kZWwuZ2V0KFwidGFyZ2V0XCIpO1xuICAgICAgYWxhZGluLmdvdG9PYmplY3QodGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0X2pzID0gZmFsc2U7XG4gICAgfVxuICB9KVxuXG4gIC8qIEZpZWxkIG9mIFZpZXcgY29udHJvbCAqL1xuICBsZXQgZm92X3B5ID0gZmFsc2U7XG4gIGxldCBmb3ZfanMgPSBmYWxzZTtcblxuICBhbGFkaW4ub24oXCJ6b29tQ2hhbmdlZFwiLCAoZm92KSA9PiB7XG5cdGlmKCFmb3ZfcHkpe1xuXHRcdGZvdl9qcyA9IHRydWU7XG5cdFx0Ly8gZm92IE1VU1QgYmUgY2FzdCBpbnRvIGZsb2F0IGluIG9yZGVyIHRvIGJlIHNlbnQgdG8gdGhlIG1vZGVsXG5cdFx0bW9kZWwuc2V0KCdmb3YnLCBwYXJzZUZsb2F0KGZvdi50b0ZpeGVkKDUpKSk7XG5cdFx0bW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG5cdH0gZWxzZSB7XG5cdFx0Zm92X3B5ID0gZmFsc2U7XG5cdH07XG4gIH0pO1xuXG4gIG1vZGVsLm9uKFwiY2hhbmdlOmZvdlwiLCAoKSA9PiB7XG4gICAgaWYgKCFmb3ZfanMpIHtcbiAgICAgIGZvdl9weSA9IHRydWU7XG4gICAgICBsZXQgZm92ID0gbW9kZWwuZ2V0KFwiZm92XCIpO1xuICAgICAgYWxhZGluLnNldEZvVihmb3YpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3ZfanMgPSBmYWxzZTtcbiAgICB9XG4gIH0pXG5cbiAgLyogRGl2IGNvbnRyb2wgKi9cblxuICBtb2RlbC5vbihcImNoYW5nZTpoZWlnaHRcIiwgKCkgPT4ge1xuICAgICAgbGV0IGhlaWdodCA9IG1vZGVsLmdldChcImhlaWdodFwiKTtcbiAgICAgIGFsYWRpbkRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICB9KTtcblxuICAvKiBBbGFkaW4gY2FsbGJhY2tzICovXG5cbiAgYWxhZGluLm9uKFwib2JqZWN0SG92ZXJlZFwiLCAob2JqZWN0KSA9PiB7XG4gICAgaWYgKG9iamVjdFtcImRhdGFcIl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICBtb2RlbC5zZW5kKHtcbiAgICAgICAgXCJldmVudF90eXBlXCI6IFwib2JqZWN0X2hvdmVyZWRcIixcbiAgICAgICAgXCJjb250ZW50XCI6IHtcbiAgICAgICAgICByYTogb2JqZWN0W1wicmFcIl0sXG4gICAgICAgICAgZGVjOiBvYmplY3RbXCJkZWNcIl0sXG5cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBhbGFkaW4ub24oXCJvYmplY3RDbGlja2VkXCIsIChjbGlja2VkKSA9PiB7XG4gICAgbGV0IGNsaWNrZWRfY29udGVudCA9IHtcbiAgICAgIFwicmFcIjogY2xpY2tlZFtcInJhXCJdLFxuICAgICAgXCJkZWNcIjogY2xpY2tlZFtcImRlY1wiXVxuICAgIH07XG4gICAgaWYgKGNsaWNrZWRbXCJkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2xpY2tlZF9jb250ZW50W1wiZGF0YVwiXSA9IGNsaWNrZWRbXCJkYXRhXCJdXG4gICAgfTtcbiAgICAvLyAxLiBBc3NpZ24gY2xpY2tlZCBjb250ZW50IHRvIGNsaWNrZWQgZm9yIGEgc2ltcGxlIHVzZVxuICAgIG1vZGVsLnNldChcImNsaWNrZWRcIiwgY2xpY2tlZF9jb250ZW50KVxuICAgIC8vIDIuIHNlbmQgYSBjdXN0b20gbWVzc2FnZSBpbiBjYXNlIHRoZSB1c2VyIHdhbnRzIHRvIGRlZmluZSB0aGVpciBvd24gY2FsbGJhY2tzXG4gICAgbW9kZWwuc2VuZCh7XG4gICAgICBcImV2ZW50X3R5cGVcIjogXCJvYmplY3RfY2xpY2tlZFwiLFxuICAgICAgXCJjb250ZW50XCI6IGNsaWNrZWRfY29udGVudFxuICAgIH0pO1xuICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG4gICAgfSk7XG5cbiAgYWxhZGluLm9uKFwiY2xpY2tcIiwgKGNsaWNrX2NvbnRlbnQpID0+IHtcbiAgICBtb2RlbC5zZW5kKHtcbiAgICAgIGV2ZW50X3R5cGU6IFwiY2xpY2tcIixcbiAgICAgIGNvbnRlbnQ6IGNsaWNrX2NvbnRlbnRcbiAgICB9KTtcbiAgICBtb2RlbC5zZXQoXCJjbGlja2VkXCIsIGNsaWNrX2NvbnRlbnQpO1xuICAgIG1vZGVsLnNhdmVfY2hhbmdlcygpO1xuICB9KVxuXG4gIGFsYWRpbi5vbihcInNlbGVjdGlvbmNoYW5nZVwiLCAob2JqZWN0cykgPT4ge1xuICAgIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgIGFsYWRpbi52aWV3LmNhdGFsb2dzLmZvckVhY2goY2F0YWxvZyA9PiB7XG4gICAgICBjYXRhbG9nLmRlc2VsZWN0QWxsKCk7XG4gICAgfSk7XG4gICAgbGV0IG9iamVjdHNfZGF0YSA9IHt9OyBcbiAgICBvYmplY3RzLmZvckVhY2gob2JqZWN0ID0+IHtcbiAgICAgIG9iamVjdHNfZGF0YS5wdXNoKHtcbiAgICAgICAgICByYTogb2JqZWN0LnJhLFxuICAgICAgICAgIGRlYzogb2JqZWN0LmRlYyxcbiAgICAgICAgICBkYXRhOiBvYmplY3QuZGF0YSxcbiAgICAgICAgICB4OiBvYmplY3QueCxcbiAgICAgICAgICB5OiBvYmplY3QueVxuICAgICAgICB9KVxuICAgIH0pXG4gICAgY29uc29sZS5sb2cob2JqZWN0c19kYXRhKTtcbiAgICBtb2RlbC5zZW5kKHtcbiAgICAgIGV2ZW50X3R5cGU6IFwic2VsZWN0XCIsXG4gICAgICBjb250ZW50OiBvYmplY3RzX2RhdGFcbiAgICB9KVxuICB9KVxuXG4gIC8qIEFsYWRpbiBmdW5jdGlvbmFsaXRpZXMgKi9cblxuICBtb2RlbC5vbihcImNoYW5nZTpjb29fZnJhbWVcIiwgKCkgPT4ge1xuXHRhbGFkaW4uc2V0RnJhbWUobW9kZWwuZ2V0KCdjb29fZnJhbWUnKSk7XG4gIH0pO1xuICBcbiAgbW9kZWwub24oJ2NoYW5nZTpzdXJ2ZXknLCAoKSA9PiB7XG5cdGFsYWRpbi5zZXRJbWFnZVN1cnZleShtb2RlbC5nZXQoJ3N1cnZleScpKTtcbiAgfSk7XG4gIFxuICBtb2RlbC5vbignY2hhbmdlOm92ZXJsYXlfc3VydmV5JywgKCkgPT4ge1xuXHRhbGFkaW4uc2V0T3ZlcmxheUltYWdlTGF5ZXIobW9kZWwuZ2V0KCdvdmVybGF5X3N1cnZleScpKTtcbiAgfSk7XG4gIFxuICBtb2RlbC5vbignY2hhbmdlOm92ZXJsYXlfc3VydmV5X29wYWNpdHknLCAoKSA9PiB7XG5cdGFsYWRpbi5nZXRPdmVybGF5SW1hZ2VMYXllcigpLnNldEFscGhhKG1vZGVsLmdldCgnb3ZlcmxheV9zdXJ2ZXlfb3BhY2l0eScpKTtcbiAgfSk7XG5cbiAgbW9kZWwub24oXCJtc2c6Y3VzdG9tXCIsIChtc2cpID0+IHtcbiAgICBsZXQgb3B0aW9ucyA9IHt9O1xuICAgIHN3aXRjaChtc2dbXCJldmVudF9uYW1lXCJdKSB7XG4gICAgICBjYXNlIFwiYWRkX2NhdGFsb2dfZnJvbV9VUkxcIjpcbiAgICAgICAgYWxhZGluLmFkZENhdGFsb2coQS5jYXRhbG9nRnJvbVVSTChtc2dbXCJ2b3RhYmxlX1VSTFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnWydvcHRpb25zJ10pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWRkX01PQ19mcm9tX1VSTFwiOlxuICAgICAgICAvLyBsaW5ld2lkdGggPSAzIGlzIGVhc2llciB0byBzZWUgdGhhbiB0aGUgZGVmYXVsdCAxIGZyb20gdXBzdHJlYW1cbiAgICAgICAgb3B0aW9ucyA9IG1zZ1tcIm9wdGlvbnNcIl1cbiAgICAgICAgaWYgKG9wdGlvbnNbXCJsaW5lV2lkdGhcIl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG9wdGlvbnNbXCJsaW5lV2lkdGhcIl0gPSAzO1xuICAgICAgICB9XG4gICAgICAgIGFsYWRpbi5hZGRNT0MoQS5NT0NGcm9tVVJMKG1zZ1snbW9jX1VSTCddLCBvcHRpb25zKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFkZF9NT0NfZnJvbV9kaWN0XCI6XG4gICAgICAgIC8vIGxpbmV3aWR0aCA9IDMgaXMgZWFzaWVyIHRvIHNlZSB0aGFuIHRoZSBkZWZhdWx0IDEgZnJvbSB1cHN0cmVhbVxuICAgICAgICBvcHRpb25zID0gbXNnW1wib3B0aW9uc1wiXVxuICAgICAgICBpZiAob3B0aW9uc1tcImxpbmVXaWR0aFwiXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tcImxpbmVXaWR0aFwiXSA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgYWxhZGluLmFkZE1PQyhBLk1PQ0Zyb21KU09OKG1zZ1snbW9jX2RpY3QnXSwgb3B0aW9ucykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhZGRfb3ZlcmxheV9mcm9tX3N0Y3NcIjpcbiAgICAgICAgbGV0IG92ZXJsYXkgPSBBLmdyYXBoaWNPdmVybGF5KG1zZ1snb3ZlcmxheV9vcHRpb25zJ10pO1xuICAgICAgICBhbGFkaW4uYWRkT3ZlcmxheShvdmVybGF5KTtcbiAgICAgICAgb3ZlcmxheS5hZGRGb290cHJpbnRzKEEuZm9vdHByaW50c0Zyb21TVENTKG1zZ1snc3RjX3N0cmluZyddKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNoYW5nZV9jb2xvcm1hcFwiOlxuICAgICAgICBhbGFkaW4uZ2V0QmFzZUltYWdlTGF5ZXIoKS5zZXRDb2xvcm1hcChtc2dbXCJjb2xvcm1hcFwiXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImdldF9KUEdfdGh1bWJuYWlsXCI6XG4gICAgICAgIGFsYWRpbi5leHBvcnRBc1BORygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0cmlnZ2VyX3JlY3Rhbmd1bGFyX3NlbGVjdGlvblwiOlxuICAgICAgICBhbGFkaW4uc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFkZF90YWJsZVwiOlxuICAgICAgICBsZXQgdGFibGVfYnl0ZXMgPSBtb2RlbC5nZXQoXCJfdGFibGVcIik7XG4gICAgICAgIGxldCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIilcbiAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbZGVjb2Rlci5kZWNvZGUodGFibGVfYnl0ZXMpXSlcbiAgICAgICAgbGV0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIEEuY2F0YWxvZ0Zyb21VUkwodXJsLCBPYmplY3QuYXNzaWduKG1zZy5vcHRpb25zLCB7IG9uQ2xpY2s6ICdzaG93VGFibGUnfSksIChjYXRhbG9nKSA9PiB7XG4gICAgICAgICAgYWxhZGluLmFkZENhdGFsb2coY2F0YWxvZyk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICBicmVhaztcblx0fVxuICB9KVxuXG5cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIG5lZWQgdG8gdW5zdWJzY3JpYmUgdGhlIGxpc3RlbmVyc1xuICAgIG1vZGVsLm9mZihcImNoYW5nZTp0YXJnZXRcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOmZvdlwiKTtcbiAgICBtb2RlbC5vZmYoXCJjaGFuZ2U6aGVpZ2h0XCIpO1xuICAgIG1vZGVsLm9mZihcImNoYW5nZTpjb29fZnJhbWVcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOnN1cnZleVwiKTtcbiAgICBtb2RlbC5vZmYoXCJjaGFuZ2U6b3ZlcmxheV9zdXJ2ZXlcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOm92ZXJsYXlfc3VydmV5X29wYWNpdHlcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOnRyaWdnZXJfZXZlbnRcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOl90YWJsZVwiKTtcbiAgICBtb2RlbC5vZmYoXCJtc2c6Y3VzdG9tXCIpO1xuXG4gICAgYWxhZGluLm9mZihcInBvc2l0aW9uQ2hhbmdlZFwiKTtcbiAgICBhbGFkaW4ub2ZmKFwiem9vbUNoYW5nZWRcIik7XG4gICAgYWxhZGluLm9mZihcIm9iamVjdEhvdmVyZWRcIik7XG4gICAgYWxhZGluLm9mZihcIm9iamVjdENsaWNrZWRcIik7XG4gICAgYWxhZGluLm9mZihcImNsaWNrXCIpO1xuICAgIGFsYWRpbi5vZmYoXCJzZWxlY3RcIik7XG5cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdGlhbGl6ZSwgcmVuZGVyIH1cbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLE9BQU9BLE1BQU8sd0NBR2QsSUFBSUMsRUFBVSxFQUVkLFNBQVNDLEVBQXlCQyxFQUFRLENBQ3hDLElBQUlDLEVBQU1ELEVBQU8sTUFBTSxH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QUN6QkEsRUFBTSxJQUFJLHVCQUF1QixFQUNqQ0EsRUFBTSxJQUFJLCtCQUErQixFQUN6Q0EsRUFBTSxJQUFJLHNCQUFzQixFQUNoQ0EsRUFBTSxJQUFJLGVBQWUsRUFDekJBLEVBQU0sSUFBSSxZQUFZLEVBRXRCTyxFQUFPLElBQUksaUJBQWlCLEVBQzVCQSxFQUFPLElBQUksYUFBYSxFQUN4QkEsRUFBTyxJQUFJLGVBQWUsRUFDMUJBLEVBQU8sSUFBSSxlQUFlLEVBQzFCQSxFQUFPLElBQUksT0FBTyxFQUNsQkEsRUFBTyxJQUFJLFFBQVEsQ0FFckIsQ0FFRixDQUVBLElBQU91QixFQUFRLENBQUUsV0FBQS9CLEVBQVksT0FBQUcsQ0FBTyIsCiAgIm5hbWVzIjogWyJBIiwgImlkeFZpZXciLCAiY29udmVydF9weW5hbWVfdG9fanNuYW1lIiwgInB5bmFtZSIsICJ0ZW1wIiwgImkiLCAiaW5pdGlhbGl6ZSIsICJtb2RlbCIsICJBIiwgInJlbmRlciIsICJlbCIsICJpbml0X29wdGlvbnMiLCAib3B0aW9uX25hbWUiLCAiYWxhZGluRGl2IiwgImFsYWRpbiIsICJ0YXJnZXRfanMiLCAidGFyZ2V0X3B5IiwgInBvc2l0aW9uIiwgInRhcmdldCIsICJmb3ZfcHkiLCAiZm92X2pzIiwgImZvdiIsICJoZWlnaHQiLCAib2JqZWN0IiwgImNsaWNrZWQiLCAiY2xpY2tlZF9jb250ZW50IiwgImNsaWNrX2NvbnRlbnQiLCAib2JqZWN0cyIsICJjYXRhbG9nIiwgIm9iamVjdHNfZGF0YSIsICJtc2ciLCAib3B0aW9ucyIsICJvdmVybGF5IiwgInRhYmxlX2J5dGVzIiwgImRlY29kZXIiLCAiYmxvYiIsICJ1cmwiLCAid2lkZ2V0X2RlZmF1bHQiXQp9Cg==
